{
  "description": "Order submission with valid guards",
  "context": {
    "user": { "id": "user-1", "role": "customer" }
  },
  "seedEntities": [
    {
      "entity": "Order",
      "id": "order-1",
      "properties": {
        "status": "draft",
        "items": [{ "id": "item-1", "price": 10 }]
      }
    }
  ],
  "commands": [
    {
      "step": 1,
      "entity": "Order",
      "id": "order-1",
      "command": "submit",
      "params": {},
      "expect": {
        "success": true,
        "stateAfter": {
          "status": "submitted"
        },
        "emittedEvents": ["orderSubmitted"]
      }
    }
  ]
}
